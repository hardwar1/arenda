{"version":3,"sources":["01__main.js"],"names":["document","addEventListener","qOne","selector","querySelector","qAll","querySelectorAll","burger","menu","headerOverlay","overlays","closePopap","popap","classList","remove","count","length","this","toggle","window","e","key","overlay","header","scrollTop","top","scrollY","add","Swiper","speed","spaceBetween","pagination","el","type","clickable","slidesPerView","body","innerWidth","documentElement","clientWidth","swiperCountSlide","breakpoints","320","760","swiper2","freeMode","watchSlidesProgress","navigation","nextEl","prevEl","allowTouchMove","anchors","thumbs","swiper","slice","call","forEach","item","preventDefault","coordY","getAttribute","getBoundingClientRect","pageYOffset","scroller","setInterval","Math","abs","scrollTo","clearInterval","scrollBy","animationTime"],"mappings":"AAAA,aAEAA,SAASC,iBAAiB,oBAAoB,WAC5C,SAASC,EAAKC,GACZ,OAAOH,SAASI,cAAcD,GAGhC,SAASE,EAAKF,GACZ,OAAOH,SAASM,iBAAiBH,GAGnC,MAAMI,EAASL,EAAK,WAClBM,EAAON,EAAK,SACZO,EAAgBP,EAAK,oBACrBQ,EAAWL,EAAK,YAQlB,SAASM,IACP,MAAMC,EAAQP,EAAK,UACnBG,EAAKK,UAAUC,OAAO,sBACtBP,EAAOM,UAAUC,OAAO,iBACxB,IAAIC,EAAQ,EACZ,KAAOA,EAAQH,EAAMI,QAAUD,EAAQL,EAASM,QAC9CN,EAASK,GAAOF,UAAUC,OAAO,mBAEjCC,IAdJR,EAAON,iBAAiB,SAAS,WAC/BgB,KAAKJ,UAAUK,OAAO,iBACtBV,EAAKK,UAAUK,OAAO,sBACtBT,EAAcI,UAAUK,OAAO,sBAejCV,EAAKP,iBAAiB,QAAS,IAAMU,KACrCQ,OAAOlB,iBAAiB,UAAYmB,IACrB,UAATA,EAAEC,KAAiBV,MAGzB,IAAK,MAAMW,KAAWZ,EACpBY,EAAQrB,iBAAiB,QAAS,IAAMU,KAI1C,MAAMY,EAASrB,EAAK,WACpB,IAAIsB,EACFC,EAAM,EAERN,OAAOlB,iBAAiB,UAAU,WAChCuB,EAAYL,OAAOO,QAEfF,EAAY,IACdD,EAAOV,UAAUc,IAAI,kBAErBJ,EAAOV,UAAUC,OAAO,kBAGtBW,EAAMD,GAAaC,EAAM,MAAQvB,EAAK,wBACxCqB,EAAOV,UAAUc,IAAI,gBACrBF,EAAMD,IAEND,EAAOV,UAAUC,OAAO,gBACxBW,EAAMD,MAgBM,IAAII,OAAO,mBAAoB,CAC7CC,MAAO,IACPC,aAAc,GACdC,WAAY,CACVC,GAAI,qBACJC,KAAM,UACNC,WAAW,GAEbC,cAnBF,WACE,MAAMC,EAAOlC,EAAK,QAAQ,GAM1B,OAJIiB,OAAOkB,YACPrC,SAASsC,gBAAgBC,aACzBH,EAAKG,aAED,IAAY,EACR,EAWGC,GACfC,YAAa,CACXC,IAAK,CACHP,cAAe,GAGjBQ,IAAK,CACHR,cAAe,MAfrB,MAoBMS,EAAU,IAAIhB,OAAO,uBAAwB,CACjDE,aAAc,EACdK,cAAe,EACfU,UAAU,EACVC,qBAAqB,EACrBC,WAAY,CACVC,OAAQ,sBACRC,OAAQ,sBACRf,WAAW,GAEbgB,gBAAgB,IAqBZC,GAlBU,IAAIvB,OAAO,yBAA0B,CACnDC,MAAO,IACPC,aAAc,GACdC,WAAY,CACVC,GAAI,qBACJC,KAAM,UACNC,WAAW,GAEba,WAAY,CACVC,OAAQ,sBACRC,OAAQ,uBAEVG,OAAQ,CACNC,OAAQT,KAKI,GAAGU,MAAMC,KAAKvD,SAASM,iBAAiB,kBAIxD6C,EAAQK,SAAQ,SAAUC,GACxBA,EAAKxD,iBAAiB,SAAS,SAAUmB,GACvCA,EAAEsC,iBACF,IAAIC,EACF3D,SACGI,cAAcqD,EAAKG,aAAa,SAChCC,wBAAwBpC,IAAMN,OAAO2C,YAEtCC,EAAWC,aAAY,WAGrBC,KAAKC,IAAI/C,OAAO2C,YAAcH,GADnB,GAEbxC,OAAOgD,SAAS,EAAGR,GACnBS,cAAcL,IAHD,EAIO5C,OAAO2C,YAAcH,EACzCxC,OAAOkD,SAAS,GALH,GAAA,EAMOlD,OAAO2C,YAAcH,GACzCxC,OAAOkD,SAAS,EAPH,KASdC","file":"../js/main.min.js","sourcesContent":["\"use strict\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  function qOne(selector) {\r\n    return document.querySelector(selector);\r\n  }\r\n\r\n  function qAll(selector) {\r\n    return document.querySelectorAll(selector);\r\n  }\r\n\r\n  const burger = qOne(\".burger\"),\r\n    menu = qOne(\".menu\"),\r\n    headerOverlay = qOne(\".header__overlay\"),\r\n    overlays = qAll(\".overlay\");\r\n\r\n  burger.addEventListener(\"click\", function () {\r\n    this.classList.toggle(\"burger--close\");\r\n    menu.classList.toggle(\"header__menu--show\");\r\n    headerOverlay.classList.toggle(\"overlay--active\");\r\n  });\r\n\r\n  function closePopap() {\r\n    const popap = qAll(\".popup\");\r\n    menu.classList.remove(\"header__menu--show\");\r\n    burger.classList.remove(\"burger--close\");\r\n    let count = 0;\r\n    while (count < popap.length || count < overlays.length) {\r\n      overlays[count].classList.remove(\"overlay--active\");\r\n      // popap[count].classList.remove(\"popap--active\");\r\n      count++;\r\n    }\r\n  }\r\n\r\n  menu.addEventListener(\"click\", () => closePopap());\r\n  window.addEventListener(\"keydown\", (e) => {\r\n    if (e.key == \"Escape\") closePopap();\r\n  });\r\n\r\n  for (const overlay of overlays) {\r\n    overlay.addEventListener(\"click\", () => closePopap());\r\n  }\r\n\r\n  // скроллы хеадера\r\n  const header = qOne(\".header\");\r\n  let scrollTop,\r\n    top = 0;\r\n\r\n  window.addEventListener(\"scroll\", function () {\r\n    scrollTop = window.scrollY;\r\n\r\n    if (scrollTop > 100) {\r\n      header.classList.add(\"header--scroll\");\r\n    } else {\r\n      header.classList.remove(\"header--scroll\");\r\n    }\r\n\r\n    if (top < scrollTop && top > 500 && !qOne(\".header__menu--show\")) {\r\n      header.classList.add(\"header--hide\");\r\n      top = scrollTop;\r\n    } else {\r\n      header.classList.remove(\"header--hide\");\r\n      top = scrollTop;\r\n    }\r\n  });\r\n\r\n  // слайдеры\r\n  function swiperCountSlide() {\r\n    const body = qOne(\"body\")[0],\r\n      x =\r\n        window.innerWidth ||\r\n        document.documentElement.clientWidth ||\r\n        body.clientWidth;\r\n\r\n    if (x < 760) return 1;\r\n    else return 2;\r\n  }\r\n\r\n  const swiper1 = new Swiper(\".reviews .swiper\", {\r\n    speed: 400,\r\n    spaceBetween: 10,\r\n    pagination: {\r\n      el: \".swiper-pagination\",\r\n      type: \"bullets\",\r\n      clickable: true,\r\n    },\r\n    slidesPerView: swiperCountSlide(),\r\n    breakpoints: {\r\n      320: {\r\n        slidesPerView: 1,\r\n      },\r\n\r\n      760: {\r\n        slidesPerView: 2,\r\n      },\r\n    },\r\n  });\r\n\r\n  const swiper2 = new Swiper(\".flat-details__thumb\", {\r\n    spaceBetween: 3,\r\n    slidesPerView: 4,\r\n    freeMode: true,\r\n    watchSlidesProgress: true,\r\n    navigation: {\r\n      nextEl: \".swiper-button-next\",\r\n      prevEl: \".swiper-button-prev\",\r\n      clickable: true,\r\n    },\r\n    allowTouchMove: false,\r\n  });\r\n\r\n  const swiper3 = new Swiper(\".flat-details__swiper \", {\r\n    speed: 400,\r\n    spaceBetween: 10,\r\n    pagination: {\r\n      el: \".swiper-pagination\",\r\n      type: \"bullets\",\r\n      clickable: true,\r\n    },\r\n    navigation: {\r\n      nextEl: \".swiper-button-next\",\r\n      prevEl: \".swiper-button-prev\",\r\n    },\r\n    thumbs: {\r\n      swiper: swiper2,\r\n    },\r\n  });\r\n\r\n  // скроллы якорных ссылок\r\n  const anchors = [].slice.call(document.querySelectorAll('a[href*=\"#\"]')),\r\n    animationTime = 1000,\r\n    framesCount = 200;\r\n\r\n  anchors.forEach(function (item) {\r\n    item.addEventListener(\"click\", function (e) {\r\n      e.preventDefault();\r\n      let coordY =\r\n        document\r\n          .querySelector(item.getAttribute(\"href\"))\r\n          .getBoundingClientRect().top + window.pageYOffset;\r\n\r\n      let scroller = setInterval(function () {\r\n        // скорость прокрутки\r\n        let scrollBy = 6;\r\n        if (Math.abs(window.pageYOffset - coordY) < scrollBy) {\r\n          window.scrollTo(0, coordY);\r\n          clearInterval(scroller);\r\n        } else if (scrollBy < window.pageYOffset - coordY) {\r\n          window.scrollBy(0, -scrollBy);\r\n        } else if (scrollBy > window.pageYOffset - coordY) {\r\n          window.scrollBy(0, scrollBy);\r\n        }\r\n      }, animationTime / framesCount);\r\n    });\r\n  });\r\n});\r\n"]}